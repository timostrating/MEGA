from bs4 import BeautifulSoup
from copy import deepcopy

import time
import urllib2

programs = (6144, 6159, 2582, 4684, 4655, 4658, 5239, 4666, 5536, 5375, 5377, 6018, 5846, 5379, 5382, 5619, 5945, 4667, 5896, 5646, 5642, 5907, 5650, 6025, 5384, 5531, 5386, 
5389, 5638, 5394, 5786, 5911, 5407, 5913, 5409, 5869, 5412, 2466, 2022, 2026, 2027, 5247, 2030, 2031, 5250, 2033, 2034, 2035, 5259, 2040, 5262, 5266, 5269, 2042, 5229, 
4560, 6012, 4543, 3272, 5113, 4526, 3274, 3267, 4826, 5132, 3275, 3273, 4561, 3276, 3269, 3277, 4607, 4620, 4607, 3640, 4620, 3670, 4982, 3673, 5193, 5199, 5185, 3669, 
5186, 3668, 5918, 5921, 5919, 5922, 5923, 5805, 4653, 245, 3722, 5979, 6105, 247, 5689, 4988, 4987, 4989, 4980, 243, 242, 6005, 6006, 5319, 2334, 251, 3679, 6066, 4927,
4902, 4900, 4915, 4921, 4903, 4904, 6136, 4905, 4906, 4907, 5983, 5984, 5627, 4914, 5844, 5233, 5234, 5782, 5996, 5322, 5321, 5329, 5320, 5330, 5326, 5331, 5332, 5325,
6065, 5333, 5327, 5328, 5334, 5335, 5340, 5324, 5338, 5323, 5656, 5658, 5655, 5659, 5654, 5657, 5337, 5336, 3333, 1, 2, 4, 21, 6, 5344, 9, 10, 12, 13, 14, 5812, 5469, 
5628, 15, 20, 3, 2356, 11, 4830, 6100, 5962, 25, 27, 5313, 33, 3994, 5454, 5310, 5428, 5346, 5315, 5294, 5465, 5295, 5458, 5297, 49, 50, 51, 4505, 53, 54, 55, 56, 5307, 
5360, 5311, 5437, 5352, 5425, 5301, 3333, 21, 4753, 5150, 5149, 4517, 5724, 5723, 5725, 5726, 3614, 5147, 3551, 4518, 5140, 5518, 4514, 5139, 5343, 5548, 5551, 5549, 
5550, 5544, 5547, 2538, 2539, 5552, 5967, 4831, 4034, 6008, 5746, 5747, 5748, 5505, 5745, 5744, 5743, 6124, 5742, 368, 364, 1882, 2537, 5737, 5740, 4052, 4060, 4061, 
363, 367, 366, 2568, 5965, 5966, 6040, 6041, 6043, 6044, 6045, 6049, 2554, 5083, 5709, 378, 6125, 5714, 5967, 2555, 3625, 5286, 3663, 3532, 3533, 6165, 4621, 3534, 3535, 
3540, 3538, 3539, 3593, 3537, 3541, 4621, 3580, 3726, 3723, 3724, 3728, 4965, 4958, 3579, 3753, 3256, 3680, 3725, 5153, 4569, 5128, 5127, 4966, 4968, 4967, 4992, 4991, 
5920, 5887, 3231, 3377, 3681, 3314, 4566, 4861, 3219, 4551, 3235, 5557, 3255, 4857, 3505, 3576, 5706, 3207, 3206, 2682, 3754, 4871, 3230, 5793, 6068, 4550, 4554, 4100, 
5091, 6060, 4949, 4618, 5730, 5629, 231, 260, 6117, 232, 234, 5817, 262, 6118, 6067, 233, 3701)

n = 0
i = 0

while n < len(programs):
    i = programs[n]
    n += 1

    time.sleep(2)

    url = "https://www.rug.nl/ocasys/rechten/vak/showpos?opleiding="+`i`
    # url = "http://localhost/MEGA/"+`i`+".html"

    html = urllib2.urlopen(url)
    soup = BeautifulSoup(html, "lxml")

    if(soup.find("table") != None):
        print(`i`+": Jhee")
        with open("programs/"+`i`+".html", "wb") as code:  # you may need to create the folder ./programs
            code.write(str(soup))

    else:
        print(i)
